---
layout: post
title: Sequential script loading on demand
date: 2009-12-16 10:26:13.000000000 +11:00
type: post
published: true
status: publish
categories:
- functional programming
- programming
tags:
- functional programming
- javascript
- jquery
meta:
  _edit_last: '154469'
author:
  login: aabs
  email: matthews.andrew@gmail.com
  display_name: Andrew Matthews
  first_name: Andrew
  last_name: Matthews
---
<p>This little script uses the JQuery getScript command, enforcing sequential loading order to ensure script dependencies are honoured:</p>
<p><code></p>
<pre>function LoadScriptsSequentially(scriptUrls, callback)
{
    if (typeof scriptUrls == 'undefined') throw "Argument Error: URL array is unusable";
    if (scriptUrls.length == 0 &amp;&amp; typeof callback == 'function') callback();
    $.getScript(scriptUrls.shift(), function() { LoadScriptsSequentially(scriptUrls, callback); });
}</pre>
<p></code>Here's how you use it:</p>
<p><code></p>
<pre>function InitialiseQueryFramework(runTests)
{
    LoadScriptsSequentially([
        "/js/inheritance.js",
        "/js/expressions.js",
        "/js/refData.js",
        "/js/queryRenderer.js",
        "/js/sha1.js",
        "/js/queryCache.js",
        "/js/unit-tests.js"],
        function()
        {
            queryFramework = new QueryManager("#query");
            if (runTests) RunTestSuite();
        });
}</pre>
<p></code>I love javascriptÂ now and can't understand why I avoided it for years. I particularly love the hybrid fusion of functional and procedural paradigms that possible in JS. You can see that at work in the parameters being passed into the recursive call to LoadScriptsSequentially.</p>
<p>What do you think? Is there a better/nicer way to do this?</p>
