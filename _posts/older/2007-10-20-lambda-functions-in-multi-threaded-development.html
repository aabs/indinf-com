---
layout: post
title: Lambda Functions in Multi-threaded Development
date: 2007-10-20 21:47:34.000000000 +10:00
type: post
published: true
status: publish
categories: []
tags: []
meta:
  _edit_last: '154469'
author:
  login: aabs
  email: matthews.andrew@gmail.com
  display_name: Andrew Matthews
  first_name: Andrew
  last_name: Matthews
---
<p>I'm on one of Juval Lowy's WCF Masterclass courses at the moment. Needless to say, my mind is buzzing from the fire-hose brain-dump he's doing on us at the moment. It's wonderful to see someone so deeply in command of the technology, not to mention daunting at the sheer incline of the learning curve. He's had some influence on the development of both C# and Visual Studio as well as WCF, so it's not surprising that he has sprinkled the course with some elegant little language features that joined the dots for me. With 1400 slides in his slide deck, there's plenty of space for language digressions as well.</p>
<p>One favorite of mine was the use of the new lambda function notation in the course of everyday UI and multithreaded development. Wherever you see a delegate, callback or handler in your normal code you can now make use of a lambda function. Of course this won't be news to the functional programmers out there, but within a few years there will be more functional code in production environments via C# than ever came from pure functional languages.</p>
<p><code><br />
[sourcecode language='csharp'][TestMethod]<br />
public static void TestLambdas()<br />
{<br />
  for (int i = 0; i < 300; i++)<br />
  {<br />
    Thread t = new Thread((x) =><br />
      {<br />
        Thread.CurrentThread.Name = x.ToString();<br />
        Thread.Sleep(r.Next(250, 500));<br />
        Trace.WriteLine(string.Format("Hello from thread {0}",<br />
          Thread.CurrentThread.Name));<br />
      });<br />
    t.Start("T " + i);<br />
  }<br />
  Thread.Sleep(10000);<br />
}[/sourcecode]<br />
</code></p>
<p>This is nice and clean, and will prevent any nasty proliferation of one line event handlers.</p>
